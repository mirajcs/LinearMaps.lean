{"declarations":[{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.check\"><span class=\"name\">Aesop</span>.<span class=\"name\">GoalDiff</span>.<span class=\"name\">check</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">diff</span> : <a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">old </span><span class=\"fn\">new</span> : <a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Aesop/BaseM.html#Aesop.BaseM\">BaseM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Message.html#Lean.MessageData\">Lean.MessageData</a>)</span></span></div></div>","info":{"doc":"","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.check","kind":"def","line":206,"name":"Aesop.GoalDiff.check","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L206-L211"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.checkCore\"><span class=\"name\">Aesop</span>.<span class=\"name\">GoalDiff</span>.<span class=\"name\">checkCore</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">diff</span> : <a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">old </span><span class=\"fn\">new</span> : <a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Aesop/BaseM.html#Aesop.BaseM\">BaseM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Message.html#Lean.MessageData\">Lean.MessageData</a>)</span></span></div></div>","info":{"doc":"","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.checkCore","kind":"def","line":140,"name":"Aesop.GoalDiff.checkCore","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L140-L204"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.comp\"><span class=\"name\">Aesop</span>.<span class=\"name\">GoalDiff</span>.<span class=\"name\">comp</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">diff₁ </span><span class=\"fn\">diff₂</span> : <a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a></div></div>","info":{"doc":"If `diff₁` is the difference between goals `g₁` and `g₂` and `diff₂` is the\ndifference between `g₂` and `g₃`, then `diff₁.comp diff₂` is the difference\nbetween `g₁` and `g₃`.\n\nWe assume that a hypothesis which changed between `g₁` and `g₂` does not\nchange back, i.e. the hypothesis is still different between `g₁` and `g₃`, and\nsimilar for the targets.\n","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.comp","kind":"def","line":114,"name":"Aesop.GoalDiff.comp","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L114-L138"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.diffGoals\"><span class=\"name\">Aesop</span>.<span class=\"name\">diffGoals</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">oldGoal </span><span class=\"fn\">newGoal</span> : <a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Aesop/BaseM.html#Aesop.BaseM\">BaseM</a> <a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a></span></div></div>","info":{"doc":"Diff two goals.\n","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.diffGoals","kind":"def","line":97,"name":"Aesop.diffGoals","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L97-L110"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.getNewFVars\"><span class=\"name\">Aesop</span>.<span class=\"name\">getNewFVars</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">newGoal</span> : <a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">oldLCtx </span><span class=\"fn\">newLCtx</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">Lean.LocalContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <span class=\"fn\">(<a href=\"./Std/Data/HashSet/Basic.html#Std.HashSet\">Std.HashSet</a> <a href=\"./Lean/Expr.html#Lean.FVarId\">Lean.FVarId</a>)</span></span></div></div>","info":{"doc":"","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.getNewFVars","kind":"def","line":84,"name":"Aesop.getNewFVars","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L84-L95"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.isGoalDiffDefeqLDecl\"><span class=\"name\">Aesop</span>.<span class=\"name\">isGoalDiffDefeqLDecl</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">oldLDecl </span><span class=\"fn\">newLDecl</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalDecl\">Lean.LocalDecl</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>","info":{"doc":"","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.isGoalDiffDefeqLDecl","kind":"def","line":75,"name":"Aesop.isGoalDiffDefeqLDecl","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L75-L82"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.isGoalDiffDefeqTarget\"><span class=\"name\">Aesop</span>.<span class=\"name\">isGoalDiffDefeqTarget</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">oldGoal </span><span class=\"fn\">newGoal</span> : <a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>","info":{"doc":"","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.isGoalDiffDefeqTarget","kind":"def","line":71,"name":"Aesop.isGoalDiffDefeqTarget","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L71-L73"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.isGoalDiffDefeqExpr\"><span class=\"name\">Aesop</span>.<span class=\"name\">isGoalDiffDefeqExpr</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">oldExpr </span><span class=\"fn\">newExpr</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Lean.Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>","info":{"doc":"","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.isGoalDiffDefeqExpr","kind":"def","line":66,"name":"Aesop.isGoalDiffDefeqExpr","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L66-L69"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.instInhabitedGoalDiff\"><span class=\"name\">Aesop</span>.<span class=\"name\">instInhabitedGoalDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a></span></div></div>","info":{"doc":"","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.instInhabitedGoalDiff","kind":"instance","line":60,"name":"Aesop.instInhabitedGoalDiff","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L60-L60"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.instInhabitedGoalDiff.default\"><span class=\"name\">Aesop</span>.<span class=\"name\">instInhabitedGoalDiff</span>.<span class=\"name\">default</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a></div></div>","info":{"doc":"","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.instInhabitedGoalDiff.default","kind":"def","line":60,"name":"Aesop.instInhabitedGoalDiff.default","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L60-L60"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.targetChanged\"><span class=\"name\">Aesop</span>.<span class=\"name\">GoalDiff</span>.<span class=\"name\">targetChanged</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>","info":{"doc":"Is the old goal's target defeq to the new goal's target? ","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.targetChanged","kind":"def","line":59,"name":"Aesop.GoalDiff.targetChanged","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L59-L59"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.removedFVars\"><span class=\"name\">Aesop</span>.<span class=\"name\">GoalDiff</span>.<span class=\"name\">removedFVars</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Std/Data/HashSet/Basic.html#Std.HashSet\">Std.HashSet</a> <a href=\"./Lean/Expr.html#Lean.FVarId\">Lean.FVarId</a></span></div></div>","info":{"doc":"`FVarId`s that appear in the old goal, but not (or with a different type)\nin the new goal. ","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.removedFVars","kind":"def","line":57,"name":"Aesop.GoalDiff.removedFVars","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L57-L57"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.addedFVars\"><span class=\"name\">Aesop</span>.<span class=\"name\">GoalDiff</span>.<span class=\"name\">addedFVars</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Std/Data/HashSet/Basic.html#Std.HashSet\">Std.HashSet</a> <a href=\"./Lean/Expr.html#Lean.FVarId\">Lean.FVarId</a></span></div></div>","info":{"doc":"`FVarId`s that appear in the new goal, but not (or with a different type)\nin the old goal. ","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.addedFVars","kind":"def","line":54,"name":"Aesop.GoalDiff.addedFVars","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L54-L54"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.newGoal\"><span class=\"name\">Aesop</span>.<span class=\"name\">GoalDiff</span>.<span class=\"name\">newGoal</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a></div></div>","info":{"doc":"The new goal. ","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.newGoal","kind":"def","line":51,"name":"Aesop.GoalDiff.newGoal","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L51-L51"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.oldGoal\"><span class=\"name\">Aesop</span>.<span class=\"name\">GoalDiff</span>.<span class=\"name\">oldGoal</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a></div></div>","info":{"doc":"The old goal. ","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.oldGoal","kind":"def","line":49,"name":"Aesop.GoalDiff.oldGoal","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L49-L49"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.mk\"><span class=\"name\">Aesop</span>.<span class=\"name\">GoalDiff</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">oldGoal </span><span class=\"fn\">newGoal</span> : <a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">addedFVars </span><span class=\"fn\">removedFVars</span> : <span class=\"fn\"><a href=\"./Std/Data/HashSet/Basic.html#Std.HashSet\">Std.HashSet</a> <a href=\"./Lean/Expr.html#Lean.FVarId\">Lean.FVarId</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">targetChanged</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\">GoalDiff</a></div></div>","info":{"doc":"","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff.mk","kind":"ctor","line":47,"name":"Aesop.GoalDiff.mk","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L47-L47"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff\"><span class=\"name\">Aesop</span>.<span class=\"name\">GoalDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>","info":{"doc":"A representation of the differences between two goals. Each Aesop rule produces\na `GoalDiff` between the goal on which the rule was run (the 'old goal') and\neach of the subgoals produced by the rule (the 'new goals').\n\nWe use the produced `GoalDiff`s to update stateful data structures which cache\ninformation about Aesop goals and for which it is more efficient to update the\ncached information than to recompute it for each goal.\n\nHypotheses are identified by their `FVarId` *and* type and value (if any).\nThis means that when a hypothesis `h : T` with `FVarId` `i` appears in the old\ngoal and `h : T'` with `FVarId` `i` appears in the new goal, but `T` is not\ndefeq to `T'`, then `h` is treated as both added (with the new type) and\nremoved (with the old type). This can happen when the type of a hyp changes to\nanother type that is definitionally equal at `default`, but not at `reducible`\ntransparency.\n\nThe target is identified up to defeq. All defeq comparisons are made at\nreducible transparency and metavariables are treated as rigid.\n","docLink":"./Aesop/RuleTac/GoalDiff.html#Aesop.GoalDiff","kind":"structure","line":18,"name":"Aesop.GoalDiff","sourceLink":"https://github.com/leanprover-community/aesop/blob/cb837cc26236ada03c81837bebe0acd9c70ced7d/Aesop/RuleTac/GoalDiff.lean#L18-L60"}}],"imports":["Init","Aesop.BaseM","Aesop.RuleTac.FVarIdSubst","Aesop.Util.Basic"],"instances":[{"className":"Inhabited","name":"Aesop.instInhabitedGoalDiff","typeNames":["Aesop.GoalDiff"]}],"name":"Aesop.RuleTac.GoalDiff"}