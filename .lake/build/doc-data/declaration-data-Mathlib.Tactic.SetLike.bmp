{"declarations":[{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Mathlib/Tactic/SetLike.html#LibraryNote.SetLike_Aesop_ruleset\"><span class=\"name\">LibraryNote</span>.<span class=\"name\">SetLike_Aesop_ruleset</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Batteries/Util/LibraryNote.html#Batteries.Util.LibraryNote\">Batteries.Util.LibraryNote</a></div></div>","info":{"doc":"The Aesop tactic (`aesop`) can automatically prove obvious facts about membership in structures\nsuch as subgroups and subrings. Certain lemmas regarding membership in algebraic substructures\nare given the `aesop` attribute according to the following principles:\n- Rules are in the `SetLike` ruleset: (rule_sets := [SetLike]).\n- Apply-style rules with trivial hypotheses are registered both as `simp` rules and as\n  `safe` Aesop rules. The latter is needed in case there are metavariables in the goal.\n  For instance, Aesop can use the rule `one_mem` to prove\n  `(M : Type*) [Monoid M] (s : Submonoid M) ⊢ ∃ m : M, m ∈ s`.\n- Apply-style rules with nontrivial hypotheses are marked `unsafe`. This is because applying them\n  might not be provability-preserving in the context of more complex membership rules.\n  For instance, `mul_mem` is marked `unsafe`.\n  - Unsafe rules are given a probability no higher than 90%. This is the same probability\n    Aesop gives to safe rules when they generate metavariables. If the priority is too high, loops\n    generated in the presence of metavariables will time out Aesop.\n  - Rules that cause loops (even in the absence of metavariables) are given a low priority of 5%.\n    These rules are placed in the `SetLike!` ruleset instead of the `SetLike` ruleset so that\n    they are not invoked by default. An example is `SetLike.mem_of_subset`.\n  - Simplifying the left-hand side of a membership goal is prioritised over simplifying the\n    right-hand side. By default, rules simplifying the LHS (e.g., `mul_mem`) are given\n    probability 90% and rules simplifying the RHS are given probability 80%\n    (e.g., `Subgroup.mem_closure_of_mem`).\n  - These default probabilities are for rules with simple hypotheses that fail quickly when\n    not satisfied, such as `mul_mem`. Rules with more complicated hypotheses, or rules that are\n    less likely to progress the proof state towards a solution, are given a lower priority.\n- To optimise performance and avoid timeouts, Aesop should not be invoking low-priority rules\n  unless it can make no other progress. If common usage patterns cause Aesop to invoke such rules,\n  additional lemmas are added at a higher priority to cover that pattern.\n  For example, `Subgroup.mem_closure_of_mem` covers a common use case of `SetLike.mem_of_subset`.\n\nSome examples of membership-related goals which Aesop with this ruleset is designed to close\ncan be found in the file `MathlibTest/set_like.lean`.\n","docLink":"./Mathlib/Tactic/SetLike.html#LibraryNote.SetLike_Aesop_ruleset","kind":"def","line":26,"name":"LibraryNote.SetLike_Aesop_ruleset","sourceLink":"https://github.com/leanprover-community/mathlib4/blob/a3a10db0e9d66acbebf76c5e6a135066525ac900/Mathlib/Tactic/SetLike.lean#L26-L58"}}],"imports":["Init","Aesop","Aesop.Frontend.Basic","Batteries.Util.LibraryNote","Mathlib.Tactic.Basic"],"instances":[],"name":"Mathlib.Tactic.SetLike"}